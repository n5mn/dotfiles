# For all categories, see https://wiki.hyprland.org/Configuring/Variables/


# ------------------------------------------ # 
# Keyboard settings
# ------------------------------------------ # 

$keyboardlayout = latam
source = ~/dotfiles/hypr/keybindings.conf

# ------------------------------------------ # 
# Thinkpad Monitor Setup
# ------------------------------------------ # 

# monitor=DP-1,2560x1080@119.95,0x0,1
# monitor=HDMI-A-1,2560x1440,2560x-200, 1
# monitor=DP-1,workspace 1
# monitor=,HDMI-A-1,workspace 2
# xrandr --newmode "2560x1080_120.00"  492.00  2560 2768 3048 3536  1080 1083 1093 1160 -hsync +vsync
# xrandr --addmode DP-1 2560x1080_120.00
# xrandr --output DP-1 --mode 2560x1080_120.00

# ------------------------------------------ # 
# Desktop Monitor Setup 
# ------------------------------------------ #

# hyprctl monitors to see description params
# monitor=name,resolution,position,scale 

monitor=HDMI-A-1, highrr, 0x0, 1     # highrr = best refreshrate
monitor=HDMI-A-2, highres, 1920x0, 1    # highres = best resolution posible

# ----------------------------------------------------- 
# Environment Variables
# ----------------------------------------------------- 

env = WLR_NO_HARDWARE_CURSORS, 1
env = WLR_RENDERER_ALLOW_SOFTWARE, 1
env = XCURSOR_SIZE,24
env = GTK_THEME,Adwaita:dark

# ----------------------------------------------------- 
# Autostart
# ----------------------------------------------------- 

exec-once = swww init 
exec-once = dunst
exec-once = ~/dotfiles/scripts/update_wallpaper.sh init
exec-once = ~/dotfiles/hypr/gtk.sh
exec-once = hyprctl setcursor Bibata-Modern-Classic 24
exec-once = ~/dotfiles/waybar/launch.sh
exec-once = wl-paste --watch cliphist store
exec-once = ~/dotfiles/scripts/workspace_listener.sh

exec-once=[workspace 10 silent] spotify-launcher
exec-once=[workspace 7 silent] vesktop
exec-once=[workspace 6 silent] brave
exec-once=[workspace 6 silent] chatterino
exec-once=[workspace 5 silent] thunderbird

# ------------------------------------------ # 
# Load colors
# ------------------------------------------ # 

source = ~/.cache/wal/colors-hyprland.conf

# ----------------------------------------------------- 
# Keyboard layout and mouse
# ----------------------------------------------------- 

input {
    kb_layout = $keyboardlayout
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =
    follow_mouse = 1 
    touchpad {
        natural_scroll = false
    }
    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}


# ----------------------------------------------------- 
# General window layout and colors
# ----------------------------------------------------- 

general {
    sensitivity=1.2
    gaps_in = 3
    gaps_out = 4
    border_size = 2
    col.active_border = $color14
    col.inactive_border = $color11
    layout = dwindle
}

# ----------------------------------------------------- 
# General window decoration
# ----------------------------------------------------- 

decoration {
    rounding = 6
    blur {
        enabled = true
        size = 2
        passes = 2
        new_optimizations = on
        ignore_opacity = true
        xray = true
        # blurls = waybar
    }
    # opacity
    active_opacity = 1.0
    inactive_opacity = 1
    fullscreen_opacity = 1.0
    # shadows
    drop_shadow = true
    shadow_range = 30
    shadow_render_power = 3
    col.shadow = 0x66000000
}

# ----------------------------------------------------- 
# Layouts
# ----------------------------------------------------- 

dwindle {
    pseudotile = 0
    preserve_split = true
    force_split = 2
}

master {
    new_is_master = true
}

gestures {
    workspace_swipe = false
}

device:epic-mouse-v1 {
    sensitivity = -0.5
}

# ----------------------------------------------------- 
# Misc settings
# ----------------------------------------------------- 

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
}

# ----------------------------------------------------- 
# Animations
# ----------------------------------------------------- 

animations {
    enabled = true
    bezier = wind, 0.05, 0.9, 0.1, 1.05
    bezier = winIn, 0.1, 1.1, 0.1, 1.1
    bezier = winOut, 0.3, -0.3, 0, 1
    bezier = liner, 1, 1, 1, 1
    animation = windows, 1, 6, wind, slide
    animation = windowsIn, 1, 6, winIn, slide
    animation = windowsOut, 1, 5, winOut, slide
    animation = windowsMove, 1, 5, wind, slide
    animation = border, 1, 1, liner
    animation = borderangle, 1, 30, liner, loop
    animation = fade, 1, 10, default
    animation = workspaces, 1, 4, wind
}

animations {
    enabled = true
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 4, default
}


# ----------------------------------------------------- 
# Window rules
# ----------------------------------------------------- 

windowrule = float,^(pavucontrol)$
windowrule = float,^(blueman-manager)$
windowrule = tile,^(nm-connection-editor)$
windowrule = tile,^(nm-applet)$
windowrule = tile,^(blueman-applet)$

windowrulev2 = float,title:(Workspace Selector)
# windowrulev2 = opacity 0.5 0.5,floating:1
# windowrulev2 = opacity 0.8 0.8,class:^(Alacritty)$
windowrulev2 = float,title:(Picture in picture)
windowrulev2 = float,title:(Reminder) # Popup for thunderbird


# ----------------------------------------------------- 
# Xwayland Window rules for screensharing
# ----------------------------------------------------- 

windowrulev2 = opacity 0.0 override 0.0 override,class:^(xwaylandvideobridge)$
windowrulev2 = noanim,class:^(xwaylandvideobridge)$
windowrulev2 = noinitialfocus,class:^(xwaylandvideobridge)$
windowrulev2 = maxsize 1 1,class:^(xwaylandvideobridge)$
windowrulev2 = noblur,class:^(xwaylandvideobridge)$

# ----------------------------------------------------- 
# Workspaces rules
# ----------------------------------------------------- 

# workspace = 1,2,3,4,5, monitor:DP-1
# workspace = 6,7,8,9,10, monitor:HDMI-A-2
workspace = 1,monitor:HDMI-A-1
workspace = 2,monitor:HDMI-A-1
workspace = 3,monitor:HDMI-A-1
workspace = 4,monitor:HDMI-A-1
workspace = 5,monitor:HDMI-A-1
workspace = 6,monitor:HDMI-A-2
workspace = 7,monitor:HDMI-A-2
workspace = 8,monitor:HDMI-A-2
workspace = 9,monitor:HDMI-A-2
workspace = 10,monitor:HDMI-A-2
